<section id="questions" class="relative py-24 lg:py-32 bg-light-gray overflow-hidden">
  <div class="absolute inset-0">
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-200 h-200 opacity-30">
      <svg viewBox="0 0 800 800" class="w-full h-full">
        <circle
          cx="400"
          cy="400"
          r="350"
          fill="none"
          stroke="#29D3D3"
          stroke-width="1"
          opacity="0.3"
        ></circle>
        <circle
          cx="400"
          cy="400"
          r="280"
          fill="none"
          stroke="#14BAE8"
          stroke-width="1"
          opacity="0.2"
        ></circle>
        <circle
          cx="400"
          cy="400"
          r="200"
          fill="none"
          stroke="#0658F6"
          stroke-width="1"
          opacity="0.1"
        ></circle>
      </svg>
    </div>
  </div>
  <div class="max-w-7xl mx-auto px-6 lg:px-8 relative z-10">
    <div class="max-w-4xl mx-auto">
      <div class="text-center mb-16">
        <span
          class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white text-primary text-sm font-semibold mb-4 shadow-sm"
          ><svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-circle-help w-4 h-4"
          >
            <circle cx="12" cy="12" r="10"></circle>
            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
            <path d="M12 17h.01"></path></svg
          >Preguntas frecuentes</span
        >
        <h2 class="font-bold text-3xl md:text-4xl lg:text-5xl text-text-color">
          Registro de <span class="gradient-text">Marca</span>
        </h2>
        <p class="mt-4 text-lg text-text-color/60">Resolvemos tus dudas mas comunes</p>
      </div>
      <div class="space-y-4">
        @for (question of questions(); track question.id) {
          <div
            class="group glass rounded-2xl px-6 lg:px-8 shadow-lg shadow-text/5 border-none transition-all duration-500"
            [class.shadow-xl]="isOpen(question.id)"
            [class.shadow-teal/10]="isOpen(question.id)"
          >
            <h3 class="flex">
              <button
                type="button"
                (click)="toggleQuestion(question.id)"
                [attr.aria-expanded]="isOpen(question.id)"
                class="flex flex-1 items-start justify-between gap-4 rounded-md outline-none focus-visible:ring-[3px] focus-visible:ring-teal/50 disabled:pointer-events-none disabled:opacity-50 text-left font-semibold text-lg text-text-color hover:text-teal py-6 hover:no-underline transition-colors"
                [class.text-teal]="isOpen(question.id)"
              >
                <span class="flex items-center gap-4">
                  <span
                    class="shrink-0 w-10 h-10 rounded-xl bg-linear-to-br from-teal to-cyan flex items-center justify-center text-white font-bold text-sm"
                  >
                    {{ question.number }}
                  </span>
                  {{ question.question }}
                </span>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-chevron-down pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-300 text-text-color/60"
                  [class.rotate-180]="isOpen(question.id)"
                >
                  <path d="m6 9 6 6 6-6"></path>
                </svg>
              </button>
            </h3>
            <div
              class="overflow-hidden transition-all duration-300 ease-in-out"
              [class.max-h-0]="!isOpen(question.id)"
              [class.opacity-0]="!isOpen(question.id)"
              [class.max-h-96]="isOpen(question.id)"
              [class.opacity-100]="isOpen(question.id)"
            >
              <div class="pt-0 text-text-color/70 pb-6 pl-14 text-base">
                {{ question.answer }}
              </div>
            </div>
          </div>
        }
      </div>
      <div class="mt-12 text-center">
        <div class="inline-flex items-center gap-3 px-6 py-4 rounded-2xl bg-white shadow-lg">
          <div class="w-3 h-3 rounded-full bg-teal animate-pulse"></div>
          <p class="text-text-color/70">
            Tienes mas preguntas?
            <a href="#contacto" class="text-primary hover:text-teal transition-colors font-semibold"
              >Contactanos ahora</a
            >
          </p>
        </div>
      </div>
    </div>
  </div>
</section>
